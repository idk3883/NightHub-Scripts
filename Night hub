-- üåô Night Hub Animated
-- Loadstring Ready

if game.CoreGui:FindFirstChild("NightHub") then
	game.CoreGui.NightHub:Destroy()
end

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

repeat task.wait() until player:FindFirstChild("PlayerGui")

-- Main GUI
local gui = Instance.new("ScreenGui")
gui.Name = "NightHub"
gui.Parent = game.CoreGui

-- Toggle Button üåô
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(0,45,0,45)
toggle.Position = UDim2.new(0,20,0,250)
toggle.Text = "üåô"
toggle.TextScaled = true
toggle.Font = Enum.Font.GothamBold
toggle.TextColor3 = Color3.new(1,1,1)
toggle.BackgroundColor3 = Color3.fromRGB(20,20,20)
toggle.BorderColor3 = Color3.new(1,1,1)
toggle.BorderSizePixel = 2
toggle.Parent = gui
Instance.new("UICorner", toggle).CornerRadius = UDim.new(1,0)

-- Main Frame
local main = Instance.new("Frame")
main.Size = UDim2.new(0,0,0,0)
main.Position = UDim2.new(0.5,-225,0.5,-160)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.BorderColor3 = Color3.new(1,1,1)
main.BorderSizePixel = 2
main.Visible = false
main.Parent = gui
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,16)

local open = false

local function toggleHub()
	open = not open
	if open then
		main.Visible = true
		TweenService:Create(main, TweenInfo.new(0.25, Enum.EasingStyle.Quad), {
			Size = UDim2.new(0,450,0,320)
		}):Play()
	else
		local tween = TweenService:Create(main, TweenInfo.new(0.25, Enum.EasingStyle.Quad), {
			Size = UDim2.new(0,0,0,0)
		})
		tween:Play()
		tween.Completed:Connect(function()
			main.Visible = false
		end)
	end
end

toggle.MouseButton1Click:Connect(toggleHub)

-- Sidebar
local sidebar = Instance.new("Frame")
sidebar.Size = UDim2.new(0,120,1,0)
sidebar.BackgroundColor3 = Color3.fromRGB(20,20,20)
sidebar.Parent = main
Instance.new("UICorner", sidebar).CornerRadius = UDim.new(0,16)

-- Content
local content = Instance.new("Frame")
content.Size = UDim2.new(1,-120,1,0)
content.Position = UDim2.new(0,120,0,0)
content.BackgroundTransparency = 1
content.Parent = main

-- Tab system
local tabs = {}

local function createTab(name)
	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(1,0,1,0)
	frame.BackgroundTransparency = 1
	frame.Visible = false
	frame.Parent = content
	tabs[name] = frame
	return frame
end

local function showTab(name)
	for tabName, frame in pairs(tabs) do
		frame.Visible = (tabName == name)
	end
end

local function sidebarButton(text, tabName, order)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1,0,0,40)
	btn.Position = UDim2.new(0,0,0,(order-1)*45 + 20)
	btn.Text = text
	btn.TextScaled = true
	btn.Font = Enum.Font.GothamBold
	btn.TextColor3 = Color3.new(1,1,1)
	btn.BackgroundColor3 = Color3.fromRGB(30,30,30)
	btn.BorderColor3 = Color3.new(1,1,1)
	btn.BorderSizePixel = 2
	btn.Parent = sidebar
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0,12)

	btn.MouseButton1Click:Connect(function()
		showTab(tabName)
	end)
end

-- Create Tabs
local movement = createTab("Movement")
local esp = createTab("ESP")
local teleports = createTab("Teleports")
local utils = createTab("Utilities")

sidebarButton("‚ö° Movement","Movement",1)
sidebarButton("üëÅ ESP","ESP",2)
sidebarButton("üìç Teleports","Teleports",3)
sidebarButton("üõ† Utilities","Utilities",4)

showTab("Movement")

-- Button helper
local function makeButton(parent,text,y)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(0,200,0,40)
	b.Position = UDim2.new(0.5,-100,0,y)
	b.Text = text
	b.TextScaled = true
	b.Font = Enum.Font.GothamBold
	b.TextColor3 = Color3.new(1,1,1)
	b.BackgroundColor3 = Color3.fromRGB(30,30,30)
	b.BorderColor3 = Color3.new(1,1,1)
	b.BorderSizePixel = 2
	b.Parent = parent
	Instance.new("UICorner", b).CornerRadius = UDim.new(0,12)
	return b
end

-- Movement
local speedBox = Instance.new("TextBox")
speedBox.Size = UDim2.new(0,200,0,40)
speedBox.Position = UDim2.new(0.5,-100,0,40)
speedBox.PlaceholderText = "‚ö° Set Speed"
speedBox.TextScaled = true
speedBox.Font = Enum.Font.GothamBold
speedBox.TextColor3 = Color3.new(1,1,1)
speedBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
speedBox.BorderColor3 = Color3.new(1,1,1)
speedBox.BorderSizePixel = 2
speedBox.Parent = movement
Instance.new("UICorner", speedBox).CornerRadius = UDim.new(0,12)

speedBox.FocusLost:Connect(function()
	local num = tonumber(speedBox.Text)
	if num and player.Character and player.Character:FindFirstChild("Humanoid") then
		player.Character.Humanoid.WalkSpeed = num
	end
end)

local infJump = false
makeButton(movement,"ü¶ò Infinite Jump",100).MouseButton1Click:Connect(function()
	infJump = not infJump
end)

UIS.JumpRequest:Connect(function()
	if infJump and player.Character and player.Character:FindFirstChild("Humanoid") then
		player.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
	end
end)

-- ESP
local espOn = false
makeButton(esp,"üëÅ Toggle ESP",40).MouseButton1Click:Connect(function()
	espOn = not espOn
	for _,plr in pairs(Players:GetPlayers()) do
		if plr ~= player and plr.Character then
			local h = plr.Character:FindFirstChild("NightESP")
			if espOn then
				if not h then
					h = Instance.new("Highlight")
					h.Name = "NightESP"
					h.FillTransparency = 0.5
					h.Parent = plr.Character
				end
			else
				if h then h:Destroy() end
			end
		end
	end
end)

-- Teleports (requires remotes existing)
makeButton(teleports,"üìç Set Position",40).MouseButton1Click:Connect(function()
	if ReplicatedStorage:FindFirstChild("NightHubRemotes") then
		ReplicatedStorage.NightHubRemotes.SetPosition:FireServer()
	end
end)

makeButton(teleports,"‚ö° Teleport",100).MouseButton1Click:Connect(function()
	if ReplicatedStorage:FindFirstChild("NightHubRemotes") then
		ReplicatedStorage.NightHubRemotes.TeleportToPosition:FireServer()
	end
end)

local tpBox = Instance.new("TextBox")
tpBox.Size = UDim2.new(0,200,0,40)
tpBox.Position = UDim2.new(0.5,-100,0,160)
tpBox.PlaceholderText = "üë§ Username"
tpBox.TextScaled = true
tpBox.Font = Enum.Font.GothamBold
tpBox.TextColor3 = Color3.new(1,1,1)
tpBox.BackgroundColor3 = Color3.fromRGB(30,30,30)
tpBox.BorderColor3 = Color3.new(1,1,1)
tpBox.BorderSizePixel = 2
tpBox.Parent = teleports
Instance.new("UICorner", tpBox).CornerRadius = UDim.new(0,12)

tpBox.FocusLost:Connect(function(enter)
	if enter and ReplicatedStorage:FindFirstChild("NightHubRemotes") then
		ReplicatedStorage.NightHubRemotes.TeleportToPlayer:FireServer(tpBox.Text)
	end
end)

-- Utilities
makeButton(utils,"üö™ Leave Game",40).MouseButton1Click:Connect(function()
	player:Kick("You left the game.")
end)
