-- ðŸŒ™ Night Hub 2.0 (Studio Safe)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local remotes = ReplicatedStorage:WaitForChild("NightHubRemotes")

repeat task.wait() until player.Character

-- GUI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "NightHub"

-- Toggle Button
local toggle = Instance.new("TextButton", gui)
toggle.Size = UDim2.new(0,50,0,50)
toggle.Position = UDim2.new(0,20,0,250)
toggle.Text = "ðŸŒ™"
toggle.TextScaled = true
toggle.BackgroundColor3 = Color3.fromRGB(20,20,20)
Instance.new("UICorner", toggle).CornerRadius = UDim.new(1,0)

local stroke = Instance.new("UIStroke", toggle)
stroke.Color = Color3.new(1,1,1)

-- Main Frame
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0,0,0,0)
main.Position = UDim2.new(0.5,-225,0.5,-160)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.Visible = false
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0,15)
Instance.new("UIStroke", main).Color = Color3.new(1,1,1)

local open = false

toggle.MouseButton1Click:Connect(function()
	open = not open
	if open then
		main.Visible = true
		TweenService:Create(main,TweenInfo.new(0.25),{Size = UDim2.new(0,450,0,320)}):Play()
	else
		local t = TweenService:Create(main,TweenInfo.new(0.25),{Size = UDim2.new(0,0,0,0)})
		t:Play()
		t.Completed:Connect(function()
			main.Visible = false
		end)
	end
end)

-- Helper
local function makeButton(parent,text,y)
	local b = Instance.new("TextButton", parent)
	b.Size = UDim2.new(0,200,0,40)
	b.Position = UDim2.new(0.5,-100,0,y)
	b.Text = text
	b.TextScaled = true
	b.BackgroundColor3 = Color3.fromRGB(35,35,35)
	Instance.new("UICorner", b).CornerRadius = UDim.new(0,10)
	local s = Instance.new("UIStroke", b)
	s.Color = Color3.new(1,1,1)
	return b
end

-- Movement Tab
local movement = Instance.new("Frame", main)
movement.Size = UDim2.new(1,0,1,0)
movement.BackgroundTransparency = 1

-- Speed
local speedBox = Instance.new("TextBox", movement)
speedBox.Size = UDim2.new(0,200,0,40)
speedBox.Position = UDim2.new(0.5,-100,0,40)
speedBox.PlaceholderText = "Set Speed"
speedBox.TextScaled = true
speedBox.BackgroundColor3 = Color3.fromRGB(35,35,35)
Instance.new("UICorner", speedBox)
Instance.new("UIStroke", speedBox).Color = Color3.new(1,1,1)

speedBox.FocusLost:Connect(function()
	local num = tonumber(speedBox.Text)
	if num and player.Character:FindFirstChild("Humanoid") then
		player.Character.Humanoid.WalkSpeed = num
	end
end)

-- Noclip
local noclip = false
makeButton(movement,"Toggle Noclip",100).MouseButton1Click:Connect(function()
	noclip = not noclip
	remotes.ToggleNoclip:FireServer(noclip)
end)

-- Teleports
makeButton(movement,"Set Position",160).MouseButton1Click:Connect(function()
	remotes.SetPosition:FireServer()
end)

makeButton(movement,"Teleport To Saved",220).MouseButton1Click:Connect(function()
	remotes.TeleportToSaved:FireServer()
end)

local tpBox = Instance.new("TextBox", movement)
tpBox.Size = UDim2.new(0,200,0,40)
tpBox.Position = UDim2.new(0.5,-100,0,280)
tpBox.PlaceholderText = "Username"
tpBox.TextScaled = true
tpBox.BackgroundColor3 = Color3.fromRGB(35,35,35)
Instance.new("UICorner", tpBox)
Instance.new("UIStroke", tpBox).Color = Color3.new(1,1,1)

tpBox.FocusLost:Connect(function(enter)
	if enter then
		remotes.TeleportToPlayer:FireServer(tpBox.Text)
	end
end)

-- Leave
makeButton(movement,"Leave Game",340).MouseButton1Click:Connect(function()
	player:Kick("You left.")
end)
